{"ast":null,"code":"import React,{useEffect,useState,Suspense}from'react';import{useParams}from'react-router-dom';// За извличане на параметъра slug\nimport{fetchPageData}from'../api';// Функция за извличане на данни от WordPress API\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Page=()=>{const{slug}=useParams();// Извличаме slug от URL параметрите\nconst[page,setPage]=useState(null);useEffect(()=>{const getPageData=async()=>{const data=await fetchPageData(slug);console.log('Page data for slug:',slug,data);// Проверете данните в конзолата\nsetPage(data);};getPageData();},[slug]);// Ще се изпълни всеки път, когато slug се промени\nif(!page){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Показваме \"Loading...\" докато не заредим данните\n}let TemplateComponent;console.log('Page template:',page.template);switch(page.template){case'':TemplateComponent=/*#__PURE__*/React.lazy(()=>import('../templates/HomeTemplate'));break;case'templates/homepage.php':TemplateComponent=/*#__PURE__*/React.lazy(()=>import('../templates/HomeTemplate'));break;case'templates/about-template.php':TemplateComponent=/*#__PURE__*/React.lazy(()=>import('../templates/AboutTemplate'));break;case'templates/contact-template.php':TemplateComponent=/*#__PURE__*/React.lazy(()=>import('../templates/ContactTemplate'));break;default:TemplateComponent=()=>/*#__PURE__*/_jsx(\"div\",{children:page.content.rendered});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:page.title.rendered}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:\"Loading template...\"}),children:/*#__PURE__*/_jsx(TemplateComponent,{})})]});};export default Page;","map":{"version":3,"names":["React","useEffect","useState","Suspense","useParams","fetchPageData","jsx","_jsx","jsxs","_jsxs","Page","slug","page","setPage","getPageData","data","console","log","children","TemplateComponent","template","lazy","content","rendered","title","fallback"],"sources":["C:/xampp/htdocs/fundedprime/frontend/src/components/Page.js"],"sourcesContent":["import React, { useEffect, useState, Suspense } from 'react';\r\nimport { useParams } from 'react-router-dom'; // За извличане на параметъра slug\r\nimport { fetchPageData } from '../api'; // Функция за извличане на данни от WordPress API\r\n\r\nconst Page = () => {\r\n  const { slug } = useParams(); // Извличаме slug от URL параметрите\r\n  const [page, setPage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const getPageData = async () => {\r\n      const data = await fetchPageData(slug);\r\n      console.log('Page data for slug:', slug, data); // Проверете данните в конзолата\r\n      setPage(data);\r\n    };\r\n    getPageData();\r\n  }, [slug]); // Ще се изпълни всеки път, когато slug се промени\r\n\r\n  if (!page) {\r\n    return <div>Loading...</div>; // Показваме \"Loading...\" докато не заредим данните\r\n  }\r\n\r\n  let TemplateComponent;\r\n  console.log('Page template:', page.template);\r\n\r\n  switch (page.template) {\r\n    case '':\r\n      TemplateComponent = React.lazy(() => import('../templates/HomeTemplate'));\r\n      break;\r\n    case 'templates/homepage.php':\r\n      TemplateComponent = React.lazy(() => import('../templates/HomeTemplate'));\r\n      break;\r\n    case 'templates/about-template.php':\r\n      TemplateComponent = React.lazy(() => import('../templates/AboutTemplate'));\r\n      break;\r\n    case 'templates/contact-template.php':\r\n      TemplateComponent = React.lazy(() => import('../templates/ContactTemplate'));\r\n      break;\r\n    default:\r\n      TemplateComponent = () => <div>{page.content.rendered}</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>{page.title.rendered}</h1>\r\n      <Suspense fallback={<div>Loading template...</div>}>\r\n        <TemplateComponent />\r\n      </Suspense>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,QAAQ,KAAQ,OAAO,CAC5D,OAASC,SAAS,KAAQ,kBAAkB,CAAE;AAC9C,OAASC,aAAa,KAAQ,QAAQ,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAEC,IAAK,CAAC,CAAGP,SAAS,CAAC,CAAC,CAAE;AAC9B,KAAM,CAACQ,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAV,aAAa,CAACM,IAAI,CAAC,CACtCK,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEN,IAAI,CAAEI,IAAI,CAAC,CAAE;AAChDF,OAAO,CAACE,IAAI,CAAC,CACf,CAAC,CACDD,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACH,IAAI,CAAC,CAAC,CAAE;AAEZ,GAAI,CAACC,IAAI,CAAE,CACT,mBAAOL,IAAA,QAAAW,QAAA,CAAK,YAAU,CAAK,CAAC,CAAE;AAChC,CAEA,GAAI,CAAAC,iBAAiB,CACrBH,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEL,IAAI,CAACQ,QAAQ,CAAC,CAE5C,OAAQR,IAAI,CAACQ,QAAQ,EACnB,IAAK,EAAE,CACLD,iBAAiB,cAAGnB,KAAK,CAACqB,IAAI,CAAC,IAAM,MAAM,CAAC,2BAA2B,CAAC,CAAC,CACzE,MACF,IAAK,wBAAwB,CAC3BF,iBAAiB,cAAGnB,KAAK,CAACqB,IAAI,CAAC,IAAM,MAAM,CAAC,2BAA2B,CAAC,CAAC,CACzE,MACF,IAAK,8BAA8B,CACjCF,iBAAiB,cAAGnB,KAAK,CAACqB,IAAI,CAAC,IAAM,MAAM,CAAC,4BAA4B,CAAC,CAAC,CAC1E,MACF,IAAK,gCAAgC,CACnCF,iBAAiB,cAAGnB,KAAK,CAACqB,IAAI,CAAC,IAAM,MAAM,CAAC,8BAA8B,CAAC,CAAC,CAC5E,MACF,QACEF,iBAAiB,CAAGA,CAAA,gBAAMZ,IAAA,QAAAW,QAAA,CAAMN,IAAI,CAACU,OAAO,CAACC,QAAQ,CAAM,CAAC,CAChE,CAEA,mBACEd,KAAA,QAAAS,QAAA,eACEX,IAAA,OAAAW,QAAA,CAAKN,IAAI,CAACY,KAAK,CAACD,QAAQ,CAAK,CAAC,cAC9BhB,IAAA,CAACJ,QAAQ,EAACsB,QAAQ,cAAElB,IAAA,QAAAW,QAAA,CAAK,qBAAmB,CAAK,CAAE,CAAAA,QAAA,cACjDX,IAAA,CAACY,iBAAiB,GAAE,CAAC,CACb,CAAC,EACR,CAAC,CAEV,CAAC,CAED,cAAe,CAAAT,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}